<!-- Navigation Bar -->
<nav class="fixed w-full z-50 transition-all duration-300" id="navbar">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center py-4">
      
      <!-- Logo Section -->
      <div class="flex items-center space-x-3">
        <div class="w-12 h-12 gradient-bg rounded-xl flex items-center justify-center shadow-lg">
          <i class="fas fa-graduation-cap text-white text-xl"></i>
        </div>
        <div>
          <span class="text-2xl font-bold gradient-text">ExamPro</span>
          <div class="text-xs text-gray-500 font-medium">Online Examination</div>
        </div>
      </div>

      <!-- Desktop Navigation -->
      <div class="hidden lg:flex items-center space-x-8">
        <a href="/" class="nav-link text-gray-700 hover:text-indigo-600 font-medium transition-colors">
          <i class="fas fa-home mr-2"></i>Home
        </a>
        
        <div class="dropdown relative" id="aboutDropdown">
          <button class="nav-link text-gray-700 hover:text-indigo-600 font-medium transition-colors flex items-center" onclick="toggleDropdown('aboutDropdown')">
            <i class="fas fa-info-circle mr-2"></i>
            About
            <i class="fas fa-chevron-down ml-1 text-xs"></i>
          </button>
          <div class="dropdown-menu absolute top-full left-0 mt-2 w-48 bg-white rounded-xl shadow-xl border border-gray-100 py-2 opacity-0 invisible transform scale-95 transition-all duration-200">
            <a href="#features" class="block px-4 py-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-colors">
              <i class="fas fa-star mr-3 text-indigo-500"></i>Features
            </a>
            <a href="#" class="block px-4 py-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-colors">
              <i class="fas fa-users mr-3 text-indigo-500"></i>Our Team
            </a>
            <a href="#" class="block px-4 py-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-colors">
              <i class="fas fa-history mr-3 text-indigo-500"></i>Our Story
            </a>
          </div>
        </div>
        
        <a href="/contactus" class="nav-link text-gray-700 hover:text-indigo-600 font-medium transition-colors">
          <i class="fas fa-envelope mr-2"></i>Contact
        </a>
        
        <!-- User Portal Dropdown -->
        <div class="dropdown relative" id="portalDropdown">
          <button class="flex items-center space-x-2 px-4 py-2 bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300 border border-gray-200" onclick="toggleDropdown('portalDropdown')">
            <i class="fas fa-user text-indigo-600"></i>
            <span class="text-gray-700 font-medium">Portal</span>
            <i class="fas fa-chevron-down text-gray-400 text-sm"></i>
          </button>
          
          <div class="dropdown-menu absolute top-full right-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 py-2 opacity-0 invisible transform scale-95 transition-all duration-200">
            <div class="px-4 py-2 border-b border-gray-100">
              <div class="text-xs font-semibold text-gray-500 uppercase tracking-wide">Student Access</div>
            </div>
            <a href="/student/studentclick" class="flex items-center px-4 py-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-colors">
              <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center mr-3">
                <i class="fas fa-user-graduate text-white text-sm"></i>
              </div>
              <div>
                <div class="font-medium">Student Portal</div>
                <div class="text-xs text-gray-500">Take exams & view results</div>
              </div>
            </a>
            
            <div class="px-4 py-2 border-b border-gray-100 mt-2">
              <div class="text-xs font-semibold text-gray-500 uppercase tracking-wide">Educator Access</div>
            </div>
            <a href="/teacher/teacherclick" class="flex items-center px-4 py-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-colors">
              <div class="w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center mr-3">
                <i class="fas fa-chalkboard-teacher text-white text-sm"></i>
              </div>
              <div>
                <div class="font-medium">Teacher Portal</div>
                <div class="text-xs text-gray-500">Create & manage exams</div>
              </div>
            </a>
            
            <div class="border-t border-gray-100 mt-2 pt-2">
              <a href="/adminclick" class="flex items-center px-4 py-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-colors">
                <div class="w-8 h-8 bg-gradient-to-br from-red-500 to-orange-500 rounded-lg flex items-center justify-center mr-3">
                  <i class="fas fa-user-shield text-white text-sm"></i>
                </div>
                <div>
                  <div class="font-medium">Admin Access</div>
                  <div class="text-xs text-gray-500">System administration</div>
                </div>
              </a>
            </div>
          </div>
        </div>
        
        <!-- CTA Button -->
        <a href="/student/studentsignup" class="relative gradient-bg text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition-all duration-300 flex items-center space-x-2">
          <i class="fas fa-rocket"></i>
          <span>Get Started</span>
          <div class="floating-badge absolute -top-2 -right-2 w-4 h-4 bg-yellow-400 rounded-full"></div>
        </a>
      </div>

      <!-- Mobile Menu Button -->
      <button class="lg:hidden p-2 text-gray-600 hover:text-indigo-600 transition-colors" id="mobile-menu-btn">
        <div class="menu-toggle">
          <i class="fas fa-bars text-xl"></i>
        </div>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div class="lg:hidden bg-white border-t border-gray-200 mobile-menu hidden" id="mobile-menu">
    <div class="px-4 py-6 space-y-4 max-h-96 overflow-y-auto">
      
      <!-- Mobile Navigation Links -->
      <a href="/" class="flex items-center space-x-3 p-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition-colors">
        <i class="fas fa-home text-indigo-500"></i>
        <span class="font-medium">Home</span>
      </a>
      
      <a href="#features" class="flex items-center space-x-3 p-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition-colors">
        <i class="fas fa-star text-indigo-500"></i>
        <span class="font-medium">Features</span>
      </a>
      
      <a href="/contactus" class="flex items-center space-x-3 p-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition-colors">
        <i class="fas fa-envelope text-indigo-500"></i>
        <span class="font-medium">Contact</span>
      </a>
      
      <hr class="border-gray-200">
      
      <!-- Mobile Portal Links -->
      <div class="space-y-2">
        <div class="text-xs font-semibold text-gray-500 uppercase tracking-wide px-3">Access Portals</div>
        
        <a href="/student/studentclick" class="flex items-center space-x-3 p-3 bg-gradient-to-r from-blue-50 to-cyan-50 hover:from-blue-100 hover:to-cyan-100 rounded-lg transition-colors">
          <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center">
            <i class="fas fa-user-graduate text-white"></i>
          </div>
          <div>
            <div class="font-medium text-gray-800">Student Portal</div>
            <div class="text-xs text-gray-600">Take exams & view results</div>
          </div>
        </a>
        
        <a href="/teacher/teacherclick" class="flex items-center space-x-3 p-3 bg-gradient-to-r from-purple-50 to-pink-50 hover:from-purple-100 hover:to-pink-100 rounded-lg transition-colors">
          <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center">
            <i class="fas fa-chalkboard-teacher text-white"></i>
          </div>
          <div>
            <div class="font-medium text-gray-800">Teacher Portal</div>
            <div class="text-xs text-gray-600">Create & manage exams</div>
          </div>
        </a>
        
        <a href="/adminclick" class="flex items-center space-x-3 p-3 bg-gradient-to-r from-red-50 to-orange-50 hover:from-red-100 hover:to-orange-100 rounded-lg transition-colors">
          <div class="w-10 h-10 bg-gradient-to-br from-red-500 to-orange-500 rounded-lg flex items-center justify-center">
            <i class="fas fa-user-shield text-white"></i>
          </div>
          <div>
            <div class="font-medium text-gray-800">Admin Access</div>
            <div class="text-xs text-gray-600">System administration</div>
          </div>
        </a>
      </div>
      
      <hr class="border-gray-200">
      
      <!-- Mobile CTA -->
      <a href="/student/studentsignup" class="block w-full gradient-bg text-white text-center py-3 rounded-xl font-semibold hover:shadow-lg transition-all duration-300">
        <i class="fas fa-rocket mr-2"></i>
        Get Started Free
      </a>
    </div>
  </div>
</nav>

<style>
.gradient-bg {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.gradient-text {
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.dropdown:hover .dropdown-menu,
.dropdown.active .dropdown-menu {
    opacity: 1;
    visibility: visible;
    transform: scale(1);
}

.nav-link:hover {
    color: #6366f1;
    transition: all 0.3s ease;
}
</style>

<script>
// Dropdown functionality
let activeDropdown = null;

function toggleDropdown(dropdownId) {
    const dropdown = document.getElementById(dropdownId);
    const dropdownMenu = dropdown.querySelector('.dropdown-menu');
    
    // Close all other dropdowns
    document.querySelectorAll('.dropdown').forEach(d => {
        if (d.id !== dropdownId) {
            d.classList.remove('active');
            const menu = d.querySelector('.dropdown-menu');
            if (menu) {
                menu.style.opacity = '0';
                menu.style.visibility = 'hidden';
                menu.style.transform = 'scale(0.95)';
            }
        }
    });
    
    // Toggle current dropdown
    if (dropdown.classList.contains('active')) {
        dropdown.classList.remove('active');
        dropdownMenu.style.opacity = '0';
        dropdownMenu.style.visibility = 'hidden';
        dropdownMenu.style.transform = 'scale(0.95)';
        activeDropdown = null;
    } else {
        dropdown.classList.add('active');
        dropdownMenu.style.opacity = '1';
        dropdownMenu.style.visibility = 'visible';
        dropdownMenu.style.transform = 'scale(1)';
        activeDropdown = dropdownId;
    }
}

// Close dropdowns when clicking outside
document.addEventListener('click', function(event) {
    const dropdowns = document.querySelectorAll('.dropdown');
    let clickedInsideDropdown = false;
    
    dropdowns.forEach(dropdown => {
        if (dropdown.contains(event.target)) {
            clickedInsideDropdown = true;
        }
    });
    
    if (!clickedInsideDropdown && activeDropdown) {
        const dropdown = document.getElementById(activeDropdown);
        const dropdownMenu = dropdown.querySelector('.dropdown-menu');
        
        dropdown.classList.remove('active');
        dropdownMenu.style.opacity = '0';
        dropdownMenu.style.visibility = 'hidden';
        dropdownMenu.style.transform = 'scale(0.95)';
        activeDropdown = null;
    }
});

// Mobile menu toggle
const mobileMenuBtn = document.getElementById('mobile-menu-btn');
const mobileMenu = document.getElementById('mobile-menu');

if (mobileMenuBtn && mobileMenu) {
    mobileMenuBtn.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });
}

// Navbar scroll effect
window.addEventListener('scroll', () => {
    const navbar = document.getElementById('navbar');
    if (window.scrollY > 50) {
        navbar.classList.add('nav-blur');
        navbar.classList.add('shadow-lg');
    } else {
        navbar.classList.remove('nav-blur');
        navbar.classList.remove('shadow-lg');
    }
});

// Close mobile menu when clicking outside
document.addEventListener('click', function(event) {
    if (!mobileMenu.contains(event.target) && !mobileMenuBtn.contains(event.target)) {
        mobileMenu.classList.add('hidden');
    }
});

// Keyboard navigation
document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape' && activeDropdown) {
        const dropdown = document.getElementById(activeDropdown);
        const dropdownMenu = dropdown.querySelector('.dropdown-menu');
        
        dropdown.classList.remove('active');
        dropdownMenu.style.opacity = '0';
        dropdownMenu.style.visibility = 'hidden';
        dropdownMenu.style.transform = 'scale(0.95)';
        activeDropdown = null;
    }
});
</script>